{"version":3,"sources":["webpack:///./node_modules/core-js/internals/array-species-constructor.js","webpack:///./src/views/three-demo/girl.vue?f5ac","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/three-demo/girl.vue?8953","webpack:///./node_modules/three/examples/jsm/controls/FlyControls.js","webpack:///./node_modules/three/examples/jsm/controls/TrackballControls.js","webpack:///src/views/three-demo/girl.vue","webpack:///./src/views/three-demo/girl.vue?e873","webpack:///./src/views/three-demo/girl.vue","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/internals/install-error-cause.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/internals/error-stack-installable.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/core-js/internals/clear-error-stack.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.error.cause.js","webpack:///./node_modules/core-js/internals/normalize-string-argument.js","webpack:///./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./src/utils/object3DEvent.js"],"names":["global","isArray","isConstructor","isObject","wellKnownSymbol","SPECIES","Array","module","exports","originalArray","C","constructor","prototype","undefined","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","this","arguments","length","fails","V8_VERSION","METHOD_NAME","array","foo","Boolean","$","uncurryThis","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","stringIndexOf","indexOf","target","proto","forced","includes","searchString","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","on","$event","$router","go","_v","runAniamte","staticRenderFns","data","image","views","effectList","total","animateId","activeIndex","methods","getMesh","linderGeometry","objLoader","fbxLoader","init","$refs","scene","position","y","camera","set","appendChild","controler","OrbitControls","autoRotate","autoRotateSpeed","minDistance","maxDistance","enableDamping","add","DirectionalLight","shadow","mapSize","width","height","castShadow","near","far","left","right","top","bottom","fov","setPlane","plane","rotation","x","Math","PI","receiveShadow","animation","mounted","window","onresize","aspect","destroyed","clear","cancelAnimationFrame","component","classof","MATCH","it","isRegExp","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","arraySpeciesConstructor","$find","find","addToUnscopables","FIND","SKIPS_HOLES","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","key","value","propertyKey","f","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","max","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","argument","method","call","regexp","error1","error2","options","cause","bind","IndexedObject","push","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","$this","that","specificCreate","result","self","boundFunction","index","create","map","some","every","findIndex","filterReject","Error","Object","defineProperty","stack","_defineProperties","props","i","descriptor","enumerable","configurable","writable","_createClass","Constructor","protoProps","staticProps","replace","TEST","arg","String","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","$includes","el","_classCallCheck","instance","$map","apply","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","FORCED","exportGlobalErrorCauseWrapper","ERROR_NAME","wrapper","exportWebAssemblyErrorCauseWrapper","stat","message","$default","getBuiltIn","hasOwn","isPrototypeOf","setPrototypeOf","copyConstructorProperties","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","IS_PURE","FULL_NAME","IS_AGGREGATE_ERROR","OPTIONS_POSITION","path","split","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","a","b","name","eventList","lastObj","lastTarget","Event","element","isRayAll","clientWidth","clientHeight","raycaster","Raycaster","mouse","Vector2","Object3D","object3DEvent","off","removeEvent","offAll","removeAll","addEventListener","mouseEvent","mouseHover","console","type","callBack","callBack1","ele","uuid","warn","clickType","event","preventDefault","mousedownList","item","clientX","clientY","list","children","setFromCamera","intersects","intersectObjects","obj","getEventObj","point","mouseHoverList","active","traverseAncestors","parent","isScene"],"mappings":"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","file":"static/js/chunk-79b6dddf.af66fb6f.js","sourcesContent":["var global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar Array = global.Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./girl.vue?vue&type=style&index=0&id=32694cc0&scoped=true&lang=css&\"","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{ref:\"views\",staticClass:\"home-view\"}),_c('div',{staticClass:\"back\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"退 出\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.runAniamte}},[_vm._v(\"转 动\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n\tEventDispatcher,\n\tQuaternion,\n\tVector3\n} from 'three';\n\nconst _changeEvent = { type: 'change' };\n\nclass FlyControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.FlyControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// API\n\n\t\tthis.movementSpeed = 1.0;\n\t\tthis.rollSpeed = 0.005;\n\n\t\tthis.dragToLook = false;\n\t\tthis.autoForward = false;\n\n\t\t// disable default target object behavior\n\n\t\t// internals\n\n\t\tconst scope = this;\n\n\t\tconst EPS = 0.000001;\n\n\t\tconst lastQuaternion = new Quaternion();\n\t\tconst lastPosition = new Vector3();\n\n\t\tthis.tmpQuaternion = new Quaternion();\n\n\t\tthis.mouseStatus = 0;\n\n\t\tthis.moveState = { up: 0, down: 0, left: 0, right: 0, forward: 0, back: 0, pitchUp: 0, pitchDown: 0, yawLeft: 0, yawRight: 0, rollLeft: 0, rollRight: 0 };\n\t\tthis.moveVector = new Vector3( 0, 0, 0 );\n\t\tthis.rotationVector = new Vector3( 0, 0, 0 );\n\n\t\tthis.keydown = function ( event ) {\n\n\t\t\tif ( event.altKey ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ShiftLeft':\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = .1; break;\n\n\t\t\t\tcase 'KeyW': this.moveState.forward = 1; break;\n\t\t\t\tcase 'KeyS': this.moveState.back = 1; break;\n\n\t\t\t\tcase 'KeyA': this.moveState.left = 1; break;\n\t\t\t\tcase 'KeyD': this.moveState.right = 1; break;\n\n\t\t\t\tcase 'KeyR': this.moveState.up = 1; break;\n\t\t\t\tcase 'KeyF': this.moveState.down = 1; break;\n\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 1; break;\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 1; break;\n\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 1; break;\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 1; break;\n\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 1; break;\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 1; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.keyup = function ( event ) {\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ShiftLeft':\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = 1; break;\n\n\t\t\t\tcase 'KeyW': this.moveState.forward = 0; break;\n\t\t\t\tcase 'KeyS': this.moveState.back = 0; break;\n\n\t\t\t\tcase 'KeyA': this.moveState.left = 0; break;\n\t\t\t\tcase 'KeyD': this.moveState.right = 0; break;\n\n\t\t\t\tcase 'KeyR': this.moveState.up = 0; break;\n\t\t\t\tcase 'KeyF': this.moveState.down = 0; break;\n\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 0; break;\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 0; break;\n\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 0; break;\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 0; break;\n\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 0; break;\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 0; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.mousedown = function ( event ) {\n\n\t\t\tif ( this.dragToLook ) {\n\n\t\t\t\tthis.mouseStatus ++;\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveState.forward = 1; break;\n\t\t\t\t\tcase 2: this.moveState.back = 1; break;\n\n\t\t\t\t}\n\n\t\t\t\tthis.updateMovementVector();\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.mousemove = function ( event ) {\n\n\t\t\tif ( ! this.dragToLook || this.mouseStatus > 0 ) {\n\n\t\t\t\tconst container = this.getContainerDimensions();\n\t\t\t\tconst halfWidth = container.size[ 0 ] / 2;\n\t\t\t\tconst halfHeight = container.size[ 1 ] / 2;\n\n\t\t\t\tthis.moveState.yawLeft = - ( ( event.pageX - container.offset[ 0 ] ) - halfWidth ) / halfWidth;\n\t\t\t\tthis.moveState.pitchDown = ( ( event.pageY - container.offset[ 1 ] ) - halfHeight ) / halfHeight;\n\n\t\t\t\tthis.updateRotationVector();\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.mouseup = function ( event ) {\n\n\t\t\tif ( this.dragToLook ) {\n\n\t\t\t\tthis.mouseStatus --;\n\n\t\t\t\tthis.moveState.yawLeft = this.moveState.pitchDown = 0;\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveState.forward = 0; break;\n\t\t\t\t\tcase 2: this.moveState.back = 0; break;\n\n\t\t\t\t}\n\n\t\t\t\tthis.updateMovementVector();\n\n\t\t\t}\n\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.update = function ( delta ) {\n\n\t\t\tconst moveMult = delta * scope.movementSpeed;\n\t\t\tconst rotMult = delta * scope.rollSpeed;\n\n\t\t\tscope.object.translateX( scope.moveVector.x * moveMult );\n\t\t\tscope.object.translateY( scope.moveVector.y * moveMult );\n\t\t\tscope.object.translateZ( scope.moveVector.z * moveMult );\n\n\t\t\tscope.tmpQuaternion.set( scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1 ).normalize();\n\t\t\tscope.object.quaternion.multiply( scope.tmpQuaternion );\n\n\t\t\tif (\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS\n\t\t\t) {\n\n\t\t\t\tscope.dispatchEvent( _changeEvent );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.updateMovementVector = function () {\n\n\t\t\tconst forward = ( this.moveState.forward || ( this.autoForward && ! this.moveState.back ) ) ? 1 : 0;\n\n\t\t\tthis.moveVector.x = ( - this.moveState.left + this.moveState.right );\n\t\t\tthis.moveVector.y = ( - this.moveState.down + this.moveState.up );\n\t\t\tthis.moveVector.z = ( - forward + this.moveState.back );\n\n\t\t\t//console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n\n\t\t};\n\n\t\tthis.updateRotationVector = function () {\n\n\t\t\tthis.rotationVector.x = ( - this.moveState.pitchDown + this.moveState.pitchUp );\n\t\t\tthis.rotationVector.y = ( - this.moveState.yawRight + this.moveState.yawLeft );\n\t\t\tthis.rotationVector.z = ( - this.moveState.rollRight + this.moveState.rollLeft );\n\n\t\t\t//console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n\n\t\t};\n\n\t\tthis.getContainerDimensions = function () {\n\n\t\t\tif ( this.domElement != document ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tsize: [ this.domElement.offsetWidth, this.domElement.offsetHeight ],\n\t\t\t\t\toffset: [ this.domElement.offsetLeft, this.domElement.offsetTop ]\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\treturn {\n\t\t\t\t\tsize: [ window.innerWidth, window.innerHeight ],\n\t\t\t\t\toffset: [ 0, 0 ]\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _mousedown );\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _mousemove );\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _mouseup );\n\n\t\t\twindow.removeEventListener( 'keydown', _keydown );\n\t\t\twindow.removeEventListener( 'keyup', _keyup );\n\n\t\t};\n\n\t\tconst _mousemove = this.mousemove.bind( this );\n\t\tconst _mousedown = this.mousedown.bind( this );\n\t\tconst _mouseup = this.mouseup.bind( this );\n\t\tconst _keydown = this.keydown.bind( this );\n\t\tconst _keyup = this.keyup.bind( this );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\n\t\tthis.domElement.addEventListener( 'mousemove', _mousemove );\n\t\tthis.domElement.addEventListener( 'mousedown', _mousedown );\n\t\tthis.domElement.addEventListener( 'mouseup', _mouseup );\n\n\t\twindow.addEventListener( 'keydown', _keydown );\n\t\twindow.addEventListener( 'keyup', _keyup );\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t}\n\n}\n\nfunction contextmenu( event ) {\n\n\tevent.preventDefault();\n\n}\n\nexport { FlyControls };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tVector2,\n\tVector3\n} from 'three';\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass TrackballControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tconst scope = this;\n\t\tconst STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\n\t\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n\t\tthis.rotateSpeed = 1.0;\n\t\tthis.zoomSpeed = 1.2;\n\t\tthis.panSpeed = 0.3;\n\n\t\tthis.noRotate = false;\n\t\tthis.noZoom = false;\n\t\tthis.noPan = false;\n\n\t\tthis.staticMoving = false;\n\t\tthis.dynamicDampingFactor = 0.2;\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.keys = [ 'KeyA' /*A*/, 'KeyS' /*S*/, 'KeyD' /*D*/ ];\n\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// internals\n\n\t\tthis.target = new Vector3();\n\n\t\tconst EPS = 0.000001;\n\n\t\tconst lastPosition = new Vector3();\n\t\tlet lastZoom = 1;\n\n\t\tlet _state = STATE.NONE,\n\t\t\t_keyState = STATE.NONE,\n\n\t\t\t_touchZoomDistanceStart = 0,\n\t\t\t_touchZoomDistanceEnd = 0,\n\n\t\t\t_lastAngle = 0;\n\n\t\tconst _eye = new Vector3(),\n\n\t\t\t_movePrev = new Vector2(),\n\t\t\t_moveCurr = new Vector2(),\n\n\t\t\t_lastAxis = new Vector3(),\n\n\t\t\t_zoomStart = new Vector2(),\n\t\t\t_zoomEnd = new Vector2(),\n\n\t\t\t_panStart = new Vector2(),\n\t\t\t_panEnd = new Vector2(),\n\n\t\t\t_pointers = [],\n\t\t\t_pointerPositions = {};\n\n\t\t// for reset\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.up0 = this.object.up.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// methods\n\n\t\tthis.handleResize = function () {\n\n\t\t\tconst box = scope.domElement.getBoundingClientRect();\n\t\t\t// adjustments come from similar code in the jquery offset() function\n\t\t\tconst d = scope.domElement.ownerDocument.documentElement;\n\t\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n\t\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\n\t\t\tscope.screen.width = box.width;\n\t\t\tscope.screen.height = box.height;\n\n\t\t};\n\n\t\tconst getMouseOnScreen = ( function () {\n\n\t\t\tconst vector = new Vector2();\n\n\t\t\treturn function getMouseOnScreen( pageX, pageY ) {\n\n\t\t\t\tvector.set(\n\t\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\n\t\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\n\t\t\t\t);\n\n\t\t\t\treturn vector;\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tconst getMouseOnCircle = ( function () {\n\n\t\t\tconst vector = new Vector2();\n\n\t\t\treturn function getMouseOnCircle( pageX, pageY ) {\n\n\t\t\t\tvector.set(\n\t\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\n\t\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\n\t\t\t\t);\n\n\t\t\t\treturn vector;\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tthis.rotateCamera = ( function () {\n\n\t\t\tconst axis = new Vector3(),\n\t\t\t\tquaternion = new Quaternion(),\n\t\t\t\teyeDirection = new Vector3(),\n\t\t\t\tobjectUpDirection = new Vector3(),\n\t\t\t\tobjectSidewaysDirection = new Vector3(),\n\t\t\t\tmoveDirection = new Vector3();\n\n\t\t\treturn function rotateCamera() {\n\n\t\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\n\t\t\t\tlet angle = moveDirection.length();\n\n\t\t\t\tif ( angle ) {\n\n\t\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\n\t\t\t\t\teyeDirection.copy( _eye ).normalize();\n\t\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\n\t\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\n\n\t\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\n\t\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\n\n\t\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\n\n\t\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\n\n\t\t\t\t\tangle *= scope.rotateSpeed;\n\t\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\n\n\t\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t\t_lastAxis.copy( axis );\n\t\t\t\t\t_lastAngle = angle;\n\n\t\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\n\n\t\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\n\t\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\t\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\n\t\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t}\n\n\t\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t\t};\n\n\t\t}() );\n\n\n\t\tthis.zoomCamera = function () {\n\n\t\t\tlet factor;\n\n\t\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\n\n\t\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\n\n\t\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\n\n\t\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.panCamera = ( function () {\n\n\t\t\tconst mouseChange = new Vector2(),\n\t\t\t\tobjectUp = new Vector3(),\n\t\t\t\tpan = new Vector3();\n\n\t\t\treturn function panCamera() {\n\n\t\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\n\n\t\t\t\tif ( mouseChange.lengthSq() ) {\n\n\t\t\t\t\tif ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\tconst scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\n\t\t\t\t\t\tconst scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\n\n\t\t\t\t\t\tmouseChange.x *= scale_x;\n\t\t\t\t\t\tmouseChange.y *= scale_y;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\n\n\t\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\n\t\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\n\n\t\t\t\t\tscope.object.position.add( pan );\n\t\t\t\t\tscope.target.add( pan );\n\n\t\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t\t_panStart.copy( _panEnd );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tthis.checkDistances = function () {\n\n\t\t\tif ( ! scope.noZoom || ! scope.noPan ) {\n\n\t\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\n\n\t\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t}\n\n\t\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\n\n\t\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\t\tif ( ! scope.noRotate ) {\n\n\t\t\t\tscope.rotateCamera();\n\n\t\t\t}\n\n\t\t\tif ( ! scope.noZoom ) {\n\n\t\t\t\tscope.zoomCamera();\n\n\t\t\t}\n\n\t\t\tif ( ! scope.noPan ) {\n\n\t\t\t\tscope.panCamera();\n\n\t\t\t}\n\n\t\t\tscope.object.position.addVectors( scope.target, _eye );\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscope.checkDistances();\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t\t}\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastZoom = scope.object.zoom;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\t_state = STATE.NONE;\n\t\t\t_keyState = STATE.NONE;\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.up.copy( scope.up0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tlastPosition.copy( scope.object.position );\n\t\t\tlastZoom = scope.object.zoom;\n\n\t\t};\n\n\t\t// listeners\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( _pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchEnd( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseUp();\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tremovePointer( event );\n\n\t\t\tif ( _pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction keydown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\twindow.removeEventListener( 'keydown', keydown );\n\n\t\t\tif ( _keyState !== STATE.NONE ) {\n\n\t\t\t\treturn;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\n\n\t\t\t\t_keyState = STATE.ROTATE;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\n\n\t\t\t\t_keyState = STATE.ZOOM;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\n\n\t\t\t\t_keyState = STATE.PAN;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction keyup() {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\t_keyState = STATE.NONE;\n\n\t\t\twindow.addEventListener( 'keydown', keydown );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( _state === STATE.NONE ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase scope.mouseButtons.LEFT:\n\t\t\t\t\t\t_state = STATE.ROTATE;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.mouseButtons.MIDDLE:\n\t\t\t\t\t\t_state = STATE.ZOOM;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.mouseButtons.RIGHT:\n\t\t\t\t\t\t_state = STATE.PAN;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t_state = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t\t_zoomEnd.copy( _zoomStart );\n\n\t\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t\t_panEnd.copy( _panStart );\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tconst state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\n\t\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp() {\n\n\t\t\t_state = STATE.NONE;\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tswitch ( event.deltaMode ) {\n\n\t\t\t\tcase 2:\n\t\t\t\t\t// Zoom in pages\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t// Zoom in lines\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// undefined, 0, assume pixels\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( _pointers[ 0 ].pageX, _pointers[ 0 ].pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 2 or more\n\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\t\tconst dx = _pointers[ 0 ].pageX - _pointers[ 1 ].pageX;\n\t\t\t\t\tconst dy = _pointers[ 0 ].pageY - _pointers[ 1 ].pageY;\n\t\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tconst x = ( _pointers[ 0 ].pageX + _pointers[ 1 ].pageX ) / 2;\n\t\t\t\t\tconst y = ( _pointers[ 0 ].pageY + _pointers[ 1 ].pageY ) / 2;\n\t\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t\t_panEnd.copy( _panStart );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 2 or more\n\n\t\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\t\tconst dx = event.pageX - position.x;\n\t\t\t\t\tconst dy = event.pageY - position.y;\n\t\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tconst x = ( event.pageX + position.x ) / 2;\n\t\t\t\t\tconst y = ( event.pageY + position.y ) / 2;\n\t\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 0:\n\t\t\t\t\t_state = STATE.NONE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX - _movePrev.pageX, event.pageY - _movePrev.pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction contextmenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\t_pointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete _pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < _pointers.length; i ++ ) {\n\n\t\t\t\tif ( _pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\t_pointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = _pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\t_pointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === _pointers[ 0 ].pointerId ) ? _pointers[ 1 ] : _pointers[ 0 ];\n\n\t\t\treturn _pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\twindow.removeEventListener( 'keydown', keydown );\n\t\t\twindow.removeEventListener( 'keyup', keyup );\n\n\t\t};\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\n\t\tthis.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tthis.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\n\t\twindow.addEventListener( 'keydown', keydown );\n\t\twindow.addEventListener( 'keyup', keyup );\n\n\t\tthis.handleResize();\n\n\t\t// force an update at start\n\t\tthis.update();\n\n\t}\n\n}\n\nexport { TrackballControls };\n","<template>\r\n  <div class=\"home\">\r\n    <div class=\"home-view\" ref=\"views\"></div>\r\n    <div class=\"back\">\r\n        <el-button @click=\"$router.go(-1)\" type=\"primary\">退 出</el-button>\r\n        <el-button @click=\"runAniamte\" type=\"primary\">转 动</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three'\r\nimport Event from '@/utils/object3DEvent'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls' // 控制器\r\nimport { FlyControls } from 'three/examples/jsm/controls/FlyControls' // 控制器\r\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls' // 控制器\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader' // 加载器\r\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader' // 加载器\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader' // 加载器\r\nimport Effect from '@/utils/effect.js'\r\nconst vertexShader = `\r\n\t\tvarying vec3 vPosition;\r\n\t\tvarying vec2 vUv;\r\n\t\tvoid main() { \r\n\t\t\tvUv = uv; \r\n\t\t\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\r\n\t\t\tgl_Position = projectionMatrix * mvPosition;\r\n      vPosition = position;\r\n\t\t}\r\n\t\t`;\r\nlet scene, camera, render, controler, flyControls, trackballControls, clock = new THREE.Clock();\r\nlet mixer, actions;\r\nexport default {\r\n  data() {\r\n    return {\r\n      image: '',\r\n      views: null,\r\n      effectList: Effect,\r\n      total: 0,\r\n      animateId: null,\r\n      activeIndex: 'effect7'\r\n    }\r\n  },\r\n  methods: {\r\n    getMesh(fragmentShader) {\r\n        // const geometry = new THREE.CylinderGeometry(0.2, 0.2, 100, 16, 16, true);\r\n        // const geometry = new THREE.BoxGeometry(25, 25, 100, 16, 16, 16, true);\r\n        // const geometry = new THREE.CircleGeometry(50, 64);\r\n        const material = new THREE.ShaderMaterial({\r\n              uniforms: {\r\n                  iTime: {\r\n                      value: 0\r\n                  },\r\n                  size: { value: 2 },\r\n                  random: {\r\n                      value: Math.random(),\r\n                  },\r\n                  color: { value: new THREE.Color(0xff00ff) },\r\n                  color1: { value: new THREE.Color(0x00ffff) },\r\n                  iResolution: {\r\n                      value: new THREE.Vector2(1900, 1900)\r\n                  },\r\n                  iChannel0: {\r\n                      value: window.iChannel0\r\n                  },\r\n                  iChannel1: {\r\n                      value: window.iChannel1\r\n                  },\r\n\r\n              },\r\n              side: 2,\r\n              depthWrite: false,\r\n              transparent: true,\r\n              vertexShader: vertexShader,\r\n              fragmentShader: fragmentShader\r\n          })\r\n          // let geometry = new THREE.CylinderGeometry(10, 10, 100, 16, 16, true);\r\n        const geometry = new THREE.CircleGeometry(20, 64);\r\n        let plane = new THREE.Mesh(geometry, material);\r\n        plane.rotation.x = -Math.PI/2;\r\n        plane.position.y = 0.1\r\n        return plane;\r\n    },\r\n    linderGeometry(fragmentShader) {\r\n        // const geometry = new THREE.CylinderGeometry(20, 20, 80, 64, 64, true);\r\n        const geometry = new THREE.SphereGeometry(40, 64, 64, true);\r\n        const material = new THREE.ShaderMaterial({\r\n              uniforms: {\r\n                  iTime: {\r\n                      value: 0\r\n                  },\r\n                  size: { value: 2 },\r\n                  color: { value: new THREE.Color(0xff00ff) },\r\n                  color1: { value: new THREE.Color(0x00ffff) },\r\n                  iResolution: {\r\n                      value: new THREE.Vector2(1900, 1900)\r\n                  },\r\n                  iChannel0: {\r\n                      value: window.iChannel0\r\n                  },\r\n                  iChannel1: {\r\n                      value: window.iChannel1\r\n                  },\r\n\r\n              },\r\n              side: 2,\r\n              depthWrite: false,\r\n              transparent: true,\r\n              vertexShader: vertexShader,\r\n              fragmentShader: fragmentShader\r\n          })\r\n        let mesh = new THREE.Mesh(geometry, material);\r\n        mesh.position.y = 36\r\n        scene.add(mesh)\r\n    },\r\n    objLoader(path, fileName, mtlName) {\r\n        let mtlLoader = new MTLLoader()\r\n        let objLoader = new OBJLoader()\r\n        mtlLoader.setPath(path)\r\n        mtlLoader.load(mtlName, material => {\r\n            objLoader.setMaterials( material )\r\n            objLoader.setPath(path)\r\n            objLoader.load(fileName, (obj) => {\r\n                obj.scale.set(0.2, 0.22, 0.2)\r\n                // obj.children[0].material.wireframe = true\r\n                const material = new THREE.ShaderMaterial({\r\n                    uniforms: {\r\n                        iTime: {\r\n                            value: 0\r\n                        },\r\n                        size: { value: 2 },\r\n                        random: {\r\n                            value: Math.random(),\r\n                        },\r\n                        color: { value: new THREE.Color(0xff00ff) },\r\n                        color1: { value: new THREE.Color(0x00ffff) },\r\n                        iResolution: {\r\n                            value: new THREE.Vector2(1900, 1900)\r\n                        },\r\n                        iChannel0: {\r\n                            value: window.iChannel0\r\n                        },\r\n                        iChannel1: {\r\n                            value: window.iChannel1\r\n                        },\r\n\r\n                    },\r\n                    side: 2,\r\n                    depthWrite: false,\r\n                    transparent: true,\r\n                    vertexShader: vertexShader,\r\n                    fragmentShader: Effect.effect39()\r\n                })\r\n                obj.traverse( child => {\r\n                  if(child.isMesh) {\r\n                    child.castShadow = true\r\n                  }\r\n                })\r\n                let newObj = obj.clone()\r\n                newObj.children[0].material = material      \r\n                obj.castShadow = true;\r\n                obj.receiveShadow  = true;\r\n                scene.add(obj, newObj )\r\n            }) \r\n        })\r\n    },\r\n    fbxLoader(filePath) {\r\n        let fbxLoader = new FBXLoader()\r\n        fbxLoader.load(filePath, obj => {\r\n            mixer = new THREE.AnimationMixer(obj)\r\n            actions = mixer.clipAction(obj.animations[0]);\r\n            actions.play()\r\n            obj.scale.set(0.4,0.6,0.4)\r\n            obj.position.x = -50\r\n            obj.traverse( child => {\r\n              if(child.isMesh) {\r\n                child.castShadow = true\r\n              }\r\n            })\r\n        })\r\n    },\r\n    init() {\r\n      this.views = this.$refs.views\r\n      scene = new THREE.Scene()\r\n      scene.position.y = -20\r\n      camera = new THREE.PerspectiveCamera(75, this.views.clientWidth/this.views.clientHeight, 0.1, 5000)\r\n      camera.position.set(0, 10, 80);\r\n      new Event(this.views, scene, camera)\r\n      render = new THREE.WebGLRenderer({antialias: true, alpha: true})\r\n      render.setSize(this.views.clientWidth, this.views.clientHeight)\r\n      render.shadowMapEnabled = true\r\n      render.shadowMapSoft = true;//关键\r\n      render.shadowMap.type = THREE.PCFSoftShadowMap;//关键\r\n      this.views.appendChild(render.domElement)\r\n      controler = new OrbitControls(camera, render.domElement);\r\n      // trackballControls = new TrackballControls(camera, render.domElement);\r\n      // trackballControls.rotateSpeed = 5\r\n      // flyControls = new FlyControls(camera, render.domElement);\r\n      // flyControls.movementSpeed = 50; //设置移动的速度\r\n      // flyControls.rollSpeed = Math.PI / 50; //设置旋转速度\r\n      // flyControls.autoForward = true;\r\n      // flyControls.dragToLook = false;\r\n      // controler.minPolarAngle = 0; \r\n      // controler.maxPolarAngle = Math.PI/2;\r\n      controler.autoRotate = true\r\n      controler.autoRotateSpeed = 5\r\n      controler.minDistance = 1;\r\n      controler.maxDistance = 800;\r\n      controler.enableDamping = true\r\n      let AmbientLight = new THREE.AmbientLight( 0x404040 );\r\n      scene.add( AmbientLight );\r\n      \r\n      var DirectionalLight = new THREE.DirectionalLight( 0xffffff);\r\n      DirectionalLight.position.set( -100, 160, 100 );\r\n      DirectionalLight.shadow.mapSize.width = 2048*4;\r\n      DirectionalLight.shadow.mapSize.height = 2048*4;\r\n      DirectionalLight.castShadow = true;\r\n      DirectionalLight.shadow.camera.near = -512;\r\n      DirectionalLight.shadow.camera.far = 512;\r\n      DirectionalLight.shadow.camera.left = -512;\r\n      DirectionalLight.shadow.camera.right = 512;\r\n      DirectionalLight.shadow.camera.top = -512;\r\n      DirectionalLight.shadow.camera.bottom = 512;\r\n      DirectionalLight.shadow.camera.fov = 10;\r\n      scene.add( DirectionalLight );\r\n\r\n      scene.add(this.getMesh(Effect[this.activeIndex]()))\r\n      this.linderGeometry(Effect.effect39())\r\n      this.setPlane()\r\n    },\r\n    setPlane() {\r\n      // const material = new THREE.ShaderMaterial({\r\n      //     uniforms: {\r\n      //         iTime: {\r\n      //             value: 0\r\n      //         },\r\n      //         size: { value: 2 },\r\n      //         random: {\r\n      //             value: Math.random(),\r\n      //         },\r\n      //         color: { value: new THREE.Color(0xff00ff) },\r\n      //         color1: { value: new THREE.Color(0x00ffff) },\r\n      //         iResolution: {\r\n      //             value: new THREE.Vector2(1900, 1900)\r\n      //         },\r\n      //         iChannel0: {\r\n      //             value: window.iChannel0\r\n      //         },\r\n      //         iChannel1: {\r\n      //             value: window.iChannel1\r\n      //         },\r\n\r\n      //     },\r\n      //     side: 2,\r\n      //     depthWrite: false,\r\n      //     transparent: true,\r\n      //     vertexShader: vertexShader,\r\n      //     fragmentShader: Effect.effect21()\r\n      // })\r\n      const material = new THREE.MeshPhongMaterial({color: 0xddccaa})\r\n      let stage = new THREE.CircleGeometry(300, 128)\r\n      let plane = new THREE.Mesh(stage, material)\r\n      plane.rotation.x = -Math.PI/2\r\n      plane.position.y = -0.01\r\n      plane.receiveShadow = true;\r\n      scene.add(plane)\r\n    },\r\n    runAniamte() {\r\n        controler.autoRotate = !controler.autoRotate\r\n        if(!!actions) {\r\n            actions.paused ? actions.play() : actions.stop()\r\n            actions.paused = !actions.paused\r\n        }\r\n    },\r\n    animation() {\r\n        render.render(scene,camera)\r\n        let delta = clock.getDelta()\r\n        controler.update(delta)\r\n        if(mixer) mixer.update(delta)\r\n        const elapsedTime = clock.getElapsedTime()\r\n        // Update passes\r\n        scene.traverse((child) => {\r\n            if(child.material && child.material.uniforms){\r\n                child.material.uniforms.iTime.value = elapsedTime\r\n            }\r\n        })\r\n        this.animateId = requestAnimationFrame(this.animation);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    this.objLoader('./obj/mm/', 'file.obj', 'file.mtl')\r\n    // this.objLoader('./obj/', 'ln.obj', 'ln.mtl')\r\n    // this.fbxLoader('./fbx/mn.FBX')\r\n    this.fbxLoader('./fbx/xmm/xmm.FBX')\r\n    this.animation()\r\n    window.onresize = () => {\r\n      render.setSize(this.views.clientWidth, this.views.clientHeight)\r\n      camera.aspect = this.views.clientWidth / this.views.clientHeight//相机重置可视范围\r\n      camera.updateProjectionMatrix();\r\n    }\r\n  },\r\n  destroyed() {\r\n    scene.clear()\r\n    cancelAnimationFrame(this.animateId)\r\n    render.dispose()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home {\r\n  width: 100vw;\r\n  height: 100vh;\r\n} \r\n.home-view {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 1);\r\n}\r\n.effect-list {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  color: #fff;\r\n  overflow: auto;\r\n  height: 100vh;\r\n}\r\nli > button {\r\n  padding: 2px 5px;\r\n  font-size: 14px;\r\n  margin-bottom: 2px;\r\n}\r\n.back, .run {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 50%;\r\n  z-index: 99;\r\n  transform: translateX(50%);\r\n  display: flex;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./girl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./girl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./girl.vue?vue&type=template&id=32694cc0&scoped=true&\"\nimport script from \"./girl.vue?vue&type=script&lang=js&\"\nexport * from \"./girl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./girl.vue?vue&type=style&index=0&id=32694cc0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32694cc0\",\n  null\n  \n)\n\nexport default component.exports","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var length = lengthOfArrayLike(self);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string') {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","import {\r\n    Raycaster,\r\n    Vector2,\r\n    Object3D\r\n} from 'three'\r\n\r\nvar eventList = []\r\n    var lastObj = null\r\n    var lastTarget = null\r\n\r\nclass Event {\r\n    constructor(element, scene, camera, isRayAll = true) {\r\n        if (element === undefined) {\r\n            console.error('Parameter element cannot be empty')\r\n            return\r\n        }\r\n        if (scene === undefined) {\r\n            console.error('Parameter scene cannot be empty')\r\n            return\r\n        }\r\n        if (camera === undefined) {\r\n            console.error('Parameter camera cannot be empty')\r\n            return\r\n        }\r\n        this.element = element\r\n        this.width = element.clientWidth\r\n        this.height = element.clientHeight\r\n        this.camera = camera\r\n        this.scene = scene\r\n        this.isRayAll = isRayAll\r\n        this.raycaster = new Raycaster()\r\n        this.mouse = new Vector2()\r\n        Object3D.prototype.on = this.object3DEvent\r\n        Object3D.prototype.off = this.removeEvent\r\n        Object3D.prototype.offAll = this.removeAll\r\n\r\n        element.addEventListener('mousedown', this.mouseEvent.bind(this, 'mousedown'), false)\r\n\r\n        element.addEventListener('mouseup', this.mouseEvent.bind(this, 'mouseup'), false)\r\n\r\n        element.addEventListener('click', this.mouseEvent.bind(this, 'click'), false)\r\n\r\n        element.addEventListener('dblclick', this.mouseEvent.bind(this, 'dblclick'), false)\r\n\r\n        element.addEventListener('mousemove', this.mouseHover.bind(this), false)\r\n    }\r\n\r\n    // 设置事件对象\r\n    object3DEvent(type, callBack, callBack1) {\r\n        eventList.push({ type, callBack, callBack1, object: this })\r\n    }\r\n\r\n    // 移除object3D对象事件\r\n    removeEvent(type) {\r\n        let index = null\r\n        eventList.forEach((ele, i) => {\r\n           if (ele.type === type && this.uuid === ele.object.uuid) {\r\n                index = i\r\n           }\r\n        })\r\n        if (index !== null) {\r\n            eventList.splice(index, 1)\r\n        } else {\r\n            console.warn(\"There is no method called '\" + type + \"';\")\r\n        }\r\n    }\r\n\r\n    // 移除object3D对象的所有事件\r\n    removeAll() {\r\n        eventList = eventList.filter(ele => this.uuid !== ele.object.uuid)\r\n    }\r\n\r\n    // 鼠标事件\r\n    mouseEvent(clickType) {\r\n\t\tevent.preventDefault()\r\n        const mousedownList = eventList.filter(item => item.type === clickType)\r\n        if (mousedownList.length === 0) return\r\n\r\n        this.mouse.x = (event.clientX / this.width) * 2 - 1\r\n        this.mouse.y = -(event.clientY / this.height) * 2 + 1\r\n        const list = this.isRayAll ? this.scene.children : eventList.map(item => item.object)\r\n\r\n        // 通过摄像机和鼠标位置更新射线\r\n        this.raycaster.setFromCamera(this.mouse, this.camera)\r\n        // 计算物体和射线的焦点\r\n        var intersects = this.raycaster.intersectObjects(list, true)\r\n\r\n        if (intersects.length > 0) {\r\n            const target = intersects[0].object\r\n            const obj = this.getEventObj(target, mousedownList)\r\n\r\n            if (!!obj && obj.type === clickType) {\r\n                obj.callBack(obj.object, target, intersects[0].point)\r\n            }\r\n        }\r\n    }\r\n\r\n    // hover事件\r\n    mouseHover() {\r\n\t\tevent.preventDefault()\r\n        const mouseHoverList = eventList.filter(item => item.type === 'hover')\r\n        this.mouse.x = (event.clientX / this.width) * 2 - 1\r\n        this.mouse.y = -(event.clientY / this.height) * 2 + 1\r\n\r\n        if (mouseHoverList.length === 0) return\r\n\r\n        const list = this.isRayAll ? this.scene.children : eventList.map(item => item.object)\r\n\r\n        // 通过摄像机和鼠标位置更新射线\r\n        this.raycaster.setFromCamera(this.mouse, this.camera)\r\n\r\n        // 计算物体和射线的焦点\r\n        var intersects = this.raycaster.intersectObjects(list, true)\r\n\r\n        if (intersects.length > 0) {\r\n            const target = intersects[0].object\r\n            const active = this.getEventObj(target, mouseHoverList)\r\n\r\n            if (!!active && active.type === 'hover') {\r\n                if (lastObj === null || lastObj.object.uuid !== active.object.uuid) {\r\n                    if (lastObj !== null && lastObj.callBack1 !== undefined) lastObj.callBack1(lastObj.object, lastTarget)\r\n                    lastObj = active\r\n                    lastTarget = target\r\n                    active.callBack(active.object, target)\r\n                } else if (lastObj.object.uuid !== active.object.uuid) {\r\n                    if (lastObj.callBack1 !== undefined) lastObj.callBack1(lastObj.object, lastTarget)\r\n                }\r\n            } else if (lastObj !== null) {\r\n                if (lastObj.callBack1 !== undefined) lastObj.callBack1(lastObj.object, lastTarget)\r\n                lastObj = null\r\n            }\r\n        } else if (lastObj !== null) {\r\n            if (lastObj.callBack1 !== undefined) lastObj.callBack1(lastObj.object, lastTarget)\r\n\r\n            lastObj = null\r\n        }\r\n    }\r\n\r\n    // 获取事件对象\r\n    getEventObj(target, list) {\r\n        const uuid = [target.uuid]\r\n\r\n        target.traverseAncestors(parent => {\r\n           if (!parent.isScene) uuid.push(parent.uuid)\r\n        })\r\n\r\n        const object = list.find(item => uuid.includes(item.object.uuid))\r\n\r\n        return object\r\n    }\r\n\r\n    // 重置事件元素长宽\r\n    resize() {\r\n        this.width = this.element.clientWidth\r\n        this.height = this.element.clientHeight\r\n    }\r\n\r\n    // 清空\r\n    clear() {\r\n        eventList = []\r\n        lastObj = null\r\n        lastTarget = null\r\n    }\r\n}\r\n\r\nexport default Event\r\n"],"sourceRoot":""}